# ============================================================================
# Environment Configuration
# ============================================================================

# Application
APP_NAME=scheduling-agent-bedrock
ENVIRONMENT=dev
DEBUG=false

# ============================================================================
# Database Configuration (PostgreSQL - Aurora Serverless v2)
# ============================================================================

DATABASE_URL=postgresql+asyncpg://dbadmin:YOUR_PASSWORD@your-aurora-endpoint:5432/scheduling_agent
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# ============================================================================
# Redis Configuration (ElastiCache)
# ============================================================================

REDIS_URL=redis://your-redis-endpoint:6379/0
REDIS_SESSION_TTL=1800
REDIS_MAX_CONNECTIONS=50

# ============================================================================
# AWS Configuration
# ============================================================================

AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key

# AWS Bedrock
BEDROCK_MODEL_ID=anthropic.claude-3-5-sonnet-20240620-v1:0
BEDROCK_AGENT_ID=your-agent-id-after-terraform-apply
BEDROCK_AGENT_ALIAS_ID=your-alias-id

# AWS Secrets Manager
AWS_SECRETS_NAME=scheduling-agent/secrets

# ============================================================================
# PF360 API Configuration
# ============================================================================

CUSTOMER_SCHEDULER_API_URL=https://your-pf360-api-url.com
PF360_API_TIMEOUT=30
PF360_MAX_RETRIES=3
CONFIRM_SCHEDULE_FLAG=1
CANCEL_SCHEDULE_FLAG=1

# ============================================================================
# Authentication & Security
# ============================================================================

JWT_SECRET_KEY=your-jwt-secret-key-from-secrets-manager
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30
SECRET_KEY=your-secret-key-here-change-in-production

# ============================================================================
# Multi-Agent System Configuration
# ============================================================================

# Intent Classification
INTENT_CONFIDENCE_THRESHOLD=0.7
INTENT_FALLBACK_THRESHOLD=0.4

# Clarifier Agent
MAX_CLARIFICATION_ATTEMPTS=3
CLARIFICATION_TIMEOUT_SECONDS=300

# Session Management
SESSION_TTL_SECONDS=1800
MAX_CONVERSATION_TURNS=50

# LLM Configuration
MAX_TOKENS=2000
LLM_TEMPERATURE=0.0
LLM_TOP_P=1.0
LLM_MAX_RETRIES=3

# Tool Execution
TOOL_TIMEOUT_SECONDS=30
TOOL_MAX_RETRIES=2

# ============================================================================
# Logging & Observability
# ============================================================================

LOG_LEVEL=INFO
LOG_FORMAT=json
ENABLE_STRUCTURED_LOGGING=true

# Tracing
ENABLE_TRACING=true
XRAY_SAMPLING_RATE=0.1

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# ============================================================================
# Feature Flags
# ============================================================================

ENABLE_CONVERSATION_HISTORY=true
ENABLE_INTENT_CACHING=true
ENABLE_RESPONSE_STREAMING=false
ENABLE_WEATHER_TOOL=true

# ============================================================================
# Rate Limiting & Performance
# ============================================================================

API_RATE_LIMIT_PER_MINUTE=60
API_BURST_SIZE=10
MAX_CONCURRENT_REQUESTS=100

# ============================================================================
# Development/Testing
# ============================================================================

# FastAPI
RELOAD=false
WORKERS=1
PORT=8000
HOST=0.0.0.0

# Testing
TEST_DATABASE_URL=postgresql+asyncpg://test:test@localhost:5432/test_scheduling_agent
TEST_REDIS_URL=redis://localhost:6379/1
